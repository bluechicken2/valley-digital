<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="TradingAI Neural Nexus - AI-powered portfolio intelligence dashboard with real-time market analysis, technical indicators, and trading insights.">
    <meta name="keywords" content="trading, AI, portfolio, cryptocurrency, stocks, market analysis, technical indicators, RSI, MACD, dashboard">
    <meta name="author" content="TradingAI">
    <meta name="robots" content="index, follow">
    <!-- Open Graph -->
    <meta property="og:title" content="TradingAI - Neural Nexus">
    <meta property="og:description" content="AI-powered portfolio intelligence dashboard">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dashboard.ottawav.com">
    <meta property="og:image" content="https://dashboard.ottawav.com/og-image.png">
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="TradingAI - Neural Nexus">
    <meta name="twitter:description" content="AI-powered portfolio intelligence dashboard">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='https://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìä</text></svg>">

    <meta name="description" content="TradingAI Neural Nexus - AI-powered portfolio intelligence dashboard">
    <title>TradingAI - Neural Nexus v12.1</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;800&family=Space+Grotesk:wght@400;500;600&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial@0.1.1/dist/chartjs-chart-financial.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.4/build/global/luxon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1/dist/chartjs-adapter-luxon.umd.min.js"></script>
    <link rel="stylesheet" href="css/theme.css">
<style>
/* Offline Banner */
.offline-banner { display:none; position:fixed; top:0; left:0; right:0; background:linear-gradient(90deg,#ff3366,#ff6633); color:#fff; padding:10px; text-align:center; font-weight:bold; z-index:9999; animation: pulse 2s infinite; }
@keyframes pulse { 0%,100% { opacity:1; } 50% { opacity:0.8; } }
</style>
</head>
<body>
<div id="offline-banner" class="offline-banner">‚ö†Ô∏è You are offline - Data may be outdated</div>

    <div id="loading" class="loading"><div class="loading-spinner"></div><div class="loading-text">INITIALIZING</div></div>
    
    <!-- Auth Screens -->
    <div id="auth-login" class="auth-container" style="display:none">
        <div class="auth-box">
            <div class="auth-logo">TRADINGAI</div>
            <div class="auth-subtitle">Neural Nexus Intelligence Platform</div>
            <div class="auth-title">Sign In</div>
            <div id="login-error" class="auth-error"></div>
            <div id="login-success" class="auth-success"></div>
            <div class="form-group"><label for="login-email">Email</label><input type="email" id="login-email" placeholder="you@example.com"></div>
            <div class="form-group"><label for="login-password">Password</label><input type="password" id="login-password" placeholder="Enter your password"></div>
            <button class="btn-primary" onclick="handleLogin()">SIGN IN</button>
            <div class="auth-link"><a onclick="showReset()">Forgot password?</a></div>
            <div class="auth-link">Don't have an account? <a onclick="showSignup()">Create Account</a></div>
        </div>
    </div>
    
    <div id="auth-signup" class="auth-container" style="display:none">
        <div class="auth-box">
            <div class="auth-logo">TRADINGAI</div>
            <div class="auth-subtitle">Neural Nexus Intelligence Platform</div>
            <div class="auth-title">Create Account</div>
            <div id="signup-error" class="auth-error"></div>
            <div id="signup-success" class="auth-success"></div>
            <div class="form-group"><label for="signup-email">Email</label><input type="email" id="signup-email" placeholder="you@example.com"></div>
            <div class="form-group"><label for="signup-password">Password</label><input type="password" id="signup-password" placeholder="Create a password"></div>
            <div class="form-group">
                <label for="tier-select">Select Plan</label>
                <div class="tier-select" id="tier-select">
                    <div class="tier-option selected" onclick="selectTier('free')"><div class="name">FREE</div><div class="price">$0<span>/mo</span></div><div style="font-size:0.7rem;color:var(--text-dim)">3 Assets</div></div>
                    <div class="tier-option" role="button" tabindex="0" onclick="selectTier('pro')"><div class="name">PRO</div><div class="price">$19<span>/mo</span></div><div style="font-size:0.7rem;color:var(--text-dim)">Unlimited</div></div>
                </div>
            </div>
            <button class="btn-primary" onclick="handleSignup()">CREATE ACCOUNT</button>
            <div class="auth-link">Already have an account? <a onclick="showLogin()">Sign In</a></div>
        </div>
    </div>
    
    <div id="auth-reset" class="auth-container" style="display:none">
        <div class="auth-box">
            <div class="auth-logo">TRADINGAI</div>
            <div class="auth-title">Reset Password</div>
            <div id="reset-error" class="auth-error"></div>
            <div id="reset-success" class="auth-success"></div>
            <div class="form-group"><label for="reset-email">Email</label><input type="email" id="reset-email" placeholder="you@example.com"></div>
            <button class="btn-primary" onclick="handleReset()">SEND RESET LINK</button>
            <div class="auth-link"><a onclick="showLogin()">Back to Sign In</a></div>
        </div>
    </div>
    
    <!-- Dashboard -->
    <div id="dashboard" style="display:none">
        <header class="header">
            <div class="logo"><div class="logo-dot"></div>TRADINGAI</div>
            <div class="header-controls">
                <div class="status">
                    <span class="status-dot" id="status-dot"></span>
                    <span id="status-text">CONNECTING</span>
                    <span id="db-status">[DB] OFFLINE</span>
                    <span id="time"></span>
                </div>
                <button class="header-btn" onclick="toggleFullscreen()" aria-label="Toggle fullscreen" title="Fullscreen">[]</button>
                <button class="header-btn" onclick="exportCSV()" title="Export">‚¨á</button>
                <button class="header-btn" onclick="showAlerts()" title="Alerts">* <span class="badge" id="alert-count">0</span></button>
                <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn">&#9790;</button>
                <div class="user-menu">
                    <button class="user-menu-btn" onclick="toggleUserMenu()"><span id="header-email">User</span> v</button>
                    <div class="user-menu-dropdown" id="user-dropdown">
                        <div class="user-menu-item" onclick="showPRModal()">Pull Requests</div><div class="user-menu-item" onclick="showWatchlists()">Watchlists</div>
                        <div class="user-menu-item" onclick="showProfile()">Account Settings</div>
                        <div class="user-menu-item" onclick="showPricing()">Upgrade Plan</div>
                        <div class="user-menu-divider"></div>
                        <div class="user-menu-item danger" onclick="handleLogout()">Logout</div>
                    </div>
                </div>
            </div>
        </header>
        
        <nav class="nav-tabs">
            <div class="nav-tab active" onclick="switchTab('dashboard')" data-tab="dashboard">DASHBOARD</div>
            <div class="nav-tab" role="button" tabindex="0" onclick="switchTab('screener')" data-tab="screener">SCREENER</div>
            <div class="nav-tab" role="button" tabindex="0" onclick="switchTab('paper')" data-tab="paper">PAPER TRADE</div>
            <div class="nav-tab" role="button" tabindex="0" onclick="switchTab('ai')" data-tab="ai">AI CHAT</div>
            <div class="nav-tab" role="button" tabindex="0" onclick="switchTab('analytics')" data-tab="analytics">ANALYTICS</div>
            <div class="nav-tab" role="button" tabindex="0" onclick="switchTab('news')" data-tab="news">NEWS</div>
            <div class="nav-tab" role="button" tabindex="0" onclick="switchTab('calendar')" data-tab="calendar">CALENDAR</div>
        </nav>
        
        <!-- Dashboard Tab -->
        <main class="main" id="tab-dashboard">
            <div class="grid grid-2">
                <div>
                    <div class="panel">
                        <div class="panel-header"><span class="panel-title">Portfolio Value</span><button class="port-edit-btn" onclick="showPortfolioEdit()">EDIT</button><button class="port-edit-btn" onclick="showAddAsset()">+ ADD</button><span class="panel-badge live" id="data-badge">LIVE</span></div>
                        <div class="panel-body">
                            <div class="portfolio-value" id="port-val">$0.00</div>
                            <div class="portfolio-change up" id="port-chg">+$0.00 (0.00%)</div>
                            <div class="intel-score">
                                <div class="hex-container"><div class="hex"><span class="hex-value" id="intel">50</span></div></div>
                            </div>
                        </div>
                    </div>
                    <div class="panel" style="margin-top:16px">
                        <div class="panel-header"><span class="panel-title">Assets</span></div>
                        <input type="text" id="asset-search" placeholder="Search assets..." oninput="filterAssets(this.value)" style="width:100%;padding:8px;margin-bottom:8px;background:var(--bg-secondary);border:1px solid var(--border);border-radius:4px;color:var(--text);font-size:12px;">
                        <div class="panel-body" id="assets"></div>
                    </div>
                </div>
                
                <div>
                    <div class="panel">
                        <div class="panel-header"><span class="panel-title">Price Chart</span></div>
                        <div class="panel-body">
                            <div class="chart-header">
                                <div class="chart-sym"><span id="chart-sym">BTC/</span><span id="chart-price" class="chart-price">$0.00</span><span id="chart-chg" class="chart-chg" style="margin-left:8px">+0.00%</span></div>
                                <div class="chart-btns">
                                    <button class="chart-btn" onclick="setTf('1H')" aria-label="1 hour timeframe">1H</button>
                                    <button class="chart-btn on" onclick="setTf('1D')" aria-label="1 day timeframe">1D</button>
                                    <button class="chart-btn" onclick="setTf('1W')" aria-label="1 week timeframe">1W</button>
                                    <button class="chart-btn" onclick="setTf('1M')" aria-label="1 month timeframe">1M</button>
                                    <button class="chart-btn" onclick="setTf('3M')" aria-label="3 month timeframe">3M</button>
                                    <button class="chart-btn chart-type-btn" onclick="toggleChartType()" id="chart-type-btn">LINE</button>
                                </div>
                            </div>
                                                        <div class="chart-container">
                                <div class="chart-toolbar">
                                    <div class="chart-tools-left">
                                        <button class="chart-tool-btn" id="draw-trend" onclick="setDrawMode('trend')">‚Üó Trend</button>
                                        <button class="chart-tool-btn" id="draw-hline" onclick="setDrawMode('hline')">‚îÄ H-Line</button>
                                        <button class="chart-tool-btn" id="draw-clear" onclick="clearDrawings()" aria-label="Clear all drawings">‚úï Clear</button>
                                        <button class="chart-tool-btn" id="toggle-ind" onclick="toggleIndicators()">üìä Indicators</button>
                                    </div>
                                    <div class="chart-tools-right">
                                        <button class="chart-tool-btn" id="toggle-bb" onclick="toggleBollinger()">BB</button>
                                        <button class="chart-tool-btn" id="toggle-ema" onclick="toggleEMA()" aria-label="Toggle EMA lines">EMA</button>
                                        <button class="chart-tool-btn active" id="toggle-sma20" onclick="toggleSMA20()" aria-label="Toggle SMA 20">SMA20</button>
                                        <button class="chart-tool-btn" id="toggle-sma200" onclick="toggleSMA200()" aria-label="Toggle SMA 200">SMA200</button>
                                        <button class="chart-tool-btn" id="toggle-sr" onclick="toggleSR()" aria-label="Toggle Support/Resistance">S/R</button>
                                    </div>
                                </div>
                                <div class="chart-indicator-legend" id="indicator-legend" style="display:none">
                                    <div class="indicator-item"><div class="indicator-dot indicator-sma"></div><span>SMA-20</span></div>
                                    <div class="indicator-item"><div class="indicator-dot indicator-ema9"></div><span>EMA-9</span></div>
                                    <div class="indicator-item"><div class="indicator-dot indicator-ema21"></div><span>EMA-21</span></div>
                                    <div class="indicator-item"><div class="indicator-dot indicator-bb"></div><span>Bollinger Bands</span></div>
                                </div>
                                <div class="chart-area" id="chart-area">
                                    <button class="chart-fullscreen-btn" onclick="toggleFullscreen()" aria-label="Toggle fullscreen">‚õ∂ Fullscreen</button>
                                    <div class="chart-wrapper">
                                        <div class="chart-main">
                                            <div class="chart-canvas-container" style="position:relative"><div id="chart-loading" class="chart-loading" style="display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10"><div class="loading-spinner"></div></div> id="chart-canvas-container" onmousemove="handleCrosshair(event)" onmouseleave="hideCrosshair()">
                                                <canvas id="priceCt"></canvas>
                                                <svg class="drawing-layer" id="drawing-layer"></svg>
                                                <div class="crosshair-h" id="crosshair-h"></div>
                                                <div class="crosshair-v" id="crosshair-v"></div>
                                                <div class="crosshair-price" id="crosshair-price">$0.00</div>
                                                <div class="crosshair-time" id="crosshair-time">--:--</div>
                                            </div>
                                            <div class="vol-chart"><canvas id="volCt"></canvas></div>
                                            <div class="time-axis" id="time-axis"></div>
                                        </div>
                                        <div class="price-axis" id="price-axis"></div>
                                    </div>
                                </div>
                            </div>
                            <div style="text-align:center;font-size:0.7rem;color:var(--text-dim);margin-top:8px" id="last-update"></div>
                        </div>
                    </div>
                    
                    <div class="panel" style="margin-top:16px">
                        <div class="panel-header"><span class="panel-title">Technical Indicators</span></div>
                        <div class="panel-body" id="inds"></div>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-3" style="margin-top:16px">
                <div class="panel">
                    <div class="panel-header"><span class="panel-title">Fear & Greed</span></div>
                    <div class="panel-body">
                        <div class="fg-container">
                            <div class="fg-bar"></div>
                            <div class="fg-dot" id="fg-dot"></div>
                            <div style="display:flex;justify-content:space-between;margin-top:12px">
                                <div><div class="fg-value" id="fg-val">50</div><div class="fg-label" id="fg-lbl">NEUTRAL</div></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel">
                    <div class="panel-header"><span class="panel-title">Sector Performance</span></div>
                    <div class="panel-body" id="sectors"></div>
                </div>
                <div class="panel">
                    <div class="panel-header"><span class="panel-title">AI Actions</span></div>
                    <div class="panel-body" id="actions"></div>
                </div>
            </div>
            
            <div class="grid grid-3" style="margin-top:16px">
                <div class="panel">
                    <div class="panel-header"><span class="panel-title">Predictions</span></div>
                    <div class="panel-body" id="preds"></div>
                </div>
                <div class="panel">
                    <div class="panel-header"><span class="panel-title">Risk Parity</span></div>
                    <div class="panel-body" id="weights"></div>
                </div>
                <div class="panel">
                    <div class="panel-header"><span class="panel-title">Allocation</span></div>
                    <div class="panel-body"><div class="alloc-chart"><canvas id="allocCt"></canvas></div></div>
                </div>
            </div>
        </main>
        
        <!-- Analytics Tab -->
        <main class="main" id="tab-analytics" style="display:none">
            <div class="panel">
                <div class="panel-header"><span class="panel-title">Portfolio Analytics</span></div>
                <div class="panel-body">
                    <div class="analytics-grid" id="analytics-grid"></div>
                </div>
            </div>
            <div class="grid grid-2" style="margin-top:16px">
                <div class="panel">
                    <div class="panel-header"><span class="panel-title">Correlation Matrix</span></div>
                    <div class="panel-body" id="corr-matrix"></div>
                </div>
                <div class="panel">
                    <div class="panel-header"><span class="panel-title">Asset Details</span></div>
                    <div class="panel-body" id="asset-details"></div>
                </div>
            </div>
        </main>
        
        <!-- News Tab -->
        <main class="main" id="tab-news" style="display:none">
            <div class="panel">
                <div class="panel-header"><span class="panel-title">Market News</span></div>
                <div class="panel-body" id="news-feed"></div>
            </div>
        </main>
        
        <!-- Calendar Tab -->
        <main class="main" id="tab-calendar" style="display:none">
            <div class="panel">
                <div class="panel-header"><span class="panel-title">Economic Calendar</span></div>
                <div class="panel-body" id="calendar"></div>
            </div>
        </main>
        
        <!-- Screener Tab -->
        <main class="main" id="tab-screener" style="display:none">
            <div class="panel">
                <div class="panel-header"><span class="panel-title">Asset Screener</span></div>
                <div class="panel-body">
                    <div class="screener-filters" id="screener-filters"></div>
                    <div id="screener-results"></div>
                </div>
            </div>
        </main>

        <!-- Paper Trading Tab -->
        <main class="main" id="tab-paper" style="display:none">
            <div class="panel">
                <div class="panel-header"><span class="panel-title">Paper Trading</span></div>
                <div class="panel-body">
                    <div class="paper-stats" id="paper-stats"></div>
                    <div id="paper-positions"></div>
                    <div style="margin-top:12px">
                        <button class="trade-btn" onclick="paperBuy()">BUY</button>
                        <button class="trade-btn sell" onclick="paperSell()">SELL</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- AI Assistant Tab -->
        <main class="main" id="tab-ai" style="display:none">
            <div class="panel">
                <div class="panel-header"><span class="panel-title">AI Portfolio Assistant</span></div>
                <div class="panel-body">
                    <div class="ai-chat" id="ai-chat"></div>
                    <div class="ai-quick-actions" id="ai-quick">
                        <button class="ai-quick-btn" onclick="quickAI('portfolio')">üìä Portfolio</button>
                        <button class="ai-quick-btn" onclick="quickAI('analysis')">üìà Analysis</button>
                        <button class="ai-quick-btn" onclick="quickAI('market')">üåç Market</button>
                        <button class="ai-quick-btn" onclick="quickAI('risks')">‚ö†Ô∏è Risks</button>
                        <button class="ai-quick-btn" onclick="quickAI('tips')">üí° Tips</button>
                    </div>
                    <div class="ai-input">
                        <input type="text" id="ai-input" placeholder="Ask about your portfolio, market trends, or strategies..." onkeypress="if(event.key==='Enter')sendAI()">
                        <button onclick="sendAI()" aria-label="Send message">SEND</button>
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="ticker"><div class="ticker-scroll" id="ticker"></div></footer>
    </div>
    
    <!-- Modals -->
    <div class="modal-overlay" id="help-modal"><div class="modal"><div class="modal-header"><span class="modal-title">Keyboard Shortcuts</span><button class="modal-close" onclick="hideHelp()">X</button></div><div class="modal-body"><div class="shortcut"><span>Navigate assets</span><span class="shortcut-key">1-8</span></div><div class="shortcut"><span>Toggle favorite</span><span class="shortcut-key">F</span></div><div class="shortcut"><span>Open alerts</span><span class="shortcut-key">A</span></div><div class="shortcut"><span>Refresh prices</span><span class="shortcut-key">R</span></div><div class="shortcut"><span>Show help</span><span class="shortcut-key">?</span></div><div class="shortcut"><span>Close modal</span><span class="shortcut-key">ESC</span></div><div class="shortcut"><span>Toggle theme</span><span class="shortcut-key">T</span></div></div></div></div>
    <div class="modal-overlay" id="profile-modal"><div class="modal"><div class="modal-header"><span class="modal-title">Account Settings</span><button class="modal-close" onclick="hideProfile()">X</button></div><div class="modal-body"><div class="profile-item"><span class="profile-label">Email</span><span class="profile-value" id="profile-email">-</span></div><div class="profile-item"><span class="profile-label">Plan</span><span class="profile-value" id="profile-tier">FREE</span></div><div class="profile-item"><span class="profile-label">Member Since</span><span class="profile-value" id="profile-since">-</span></div></div></div></div>
    <div class="modal-overlay" id="pricing-modal"><div class="modal"><div class="modal-header"><span class="modal-title">Upgrade Plan</span><button class="modal-close" onclick="hidePricing()">X</button></div><div class="modal-body"><div class="pricing-cards" id="pricing-cards"></div></div></div></div>
    <div class="modal-overlay" id="alerts-modal"><div class="modal"><div class="modal-header"><span class="modal-title">Price Alerts</span><button class="modal-close" onclick="hideAlerts()">X</button></div><div class="modal-body"><div id="alerts-list"></div><button class="btn-primary" style="margin-top:12px" onclick="showAddAlert()">Add Alert</button></div></div></div>
    <div class="modal-overlay" id="add-alert-modal"><div class="modal"><div class="modal-header"><span class="modal-title">Create Alert</span><button class="modal-close" onclick="hideAddAlert()">X</button></div><div class="modal-body"><div class="form-group"><label for="alert-asset">Asset</label><select id="alert-asset"></select></div><div class="form-group"><label for="alert-cond">Condition</label><select id="alert-cond"><option value="above">Price goes above</option><option value="below">Price goes below</option></select></div><div class="form-group"><label for="alert-price">Target Price ($)</label><input type="number" id="alert-price" placeholder="0.00"></div><button class="btn-primary" onclick="createAlert()">CREATE ALERT</button></div></div></div>
    <div class="modal-overlay" id="watchlists-modal"><div class="modal"><div class="modal-header"><span class="modal-title">Watchlists</span><button class="modal-close" onclick="hideWatchlists()">X</button></div><div class="modal-body"><div id="watchlists-list"></div><button class="btn-primary" style="margin-top:12px" onclick="createWatchlist()">Create Watchlist</button></div></div></div>
    
        <!-- Portfolio Edit Modal -->
    <div class="modal-overlay" id="portfolio-modal"><div class="modal modal-lg"><div class="modal-header"><span class="modal-title">Portfolio Holdings</span><button class="modal-close" onclick="hidePortfolioEdit()">X</button></div><div class="modal-body"><div id="holdings-list"></div><div style="margin-top:12px"><button class="btn-primary" onclick="saveHoldings()">SAVE CHANGES</button></div></div></div></div>

    <!-- Add Asset Modal -->
    <div class="modal-overlay" id="add-asset-modal"><div class="modal"><div class="modal-header"><span class="modal-title">Add Asset to Portfolio</span><button class="modal-close" onclick="hideAddAsset()" aria-label="Close modal">X</button></div><div class="modal-body"><input type="text" class="add-asset-search" id="asset-search" placeholder="Search assets..." oninput="searchAssets()"><div id="asset-options"></div></div></div></div>

    <!-- PR Modal -->
    <div class="modal-overlay" id="pr-modal"><div class="modal modal-lg"><div class="modal-header"><span class="modal-title">Create Pull Request</span><button class="modal-close" onclick="hidePRModal()" aria-label="Close modal">X</button></div><div class="modal-body"><div class="form-group"><label for="pr-branch">Branch Name</label><input type="text" id="pr-branch" placeholder="feature/my-changes"></div><div class="form-group"><label for="pr-title">PR Title</label><input type="text" id="pr-title" placeholder="Add new feature"></div><div class="form-group"><label for="pr-desc">Description</label><textarea id="pr-desc" style="width:100%;height:80px;background:var(--bg-surface);border:1px solid var(--border);border-radius:6px;padding:10px;color:var(--text-bright);resize:none" placeholder="Describe your changes..."></textarea></div><button class="btn-primary" onclick="createPR()">CREATE PULL REQUEST</button><div style="margin-top:16px"><span class="panel-title">Recent Pull Requests</span></div><div class="pr-list" id="pr-list" style="margin-top:8px"></div></div></div></div>
    <div class="toast" id="toast"></div>
    
    <script src="js/app.js"></script>
</body>
</html>
